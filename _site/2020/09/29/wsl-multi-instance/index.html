<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-126127657-1"></script>
<script>
  var host = window.location.hostname;
  if (host != "127.0.0.1" && host != "localhost")
  {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-126127657-1');
  }
</script>


  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta charset="UTF-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Flexibility of having multiple parallel instances of Linux using WSL &middot; Mojtaba Barzegari
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface"> -->
  <link rel="stylesheet" href="/public/css/font.css">
  <link rel="stylesheet" href="/public/css/social.css">

  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  <!-- Mathjax Support -->
  <script type="text/javascript" async
    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
</head>


  <body class="theme-base-0d">

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>Mojtaba Barzegari</h1>
      <p class="lead"></p>
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
        <a href="/">Home</a>
      </li>

      

      
      
        
          
        
      
        
          
            <li class="sidebar-nav-item">
              <a href="/about/">About</a>
            </li>
          
        
      
        
      
        
          
            <li class="sidebar-nav-item">
              <a href="/blog/">Blog</a>
            </li>
          
        
      
        
          
            <li class="sidebar-nav-item">
              <a href="/contact/">Contact</a>
            </li>
          
        
      
        
          
        
      
        
          
            <li class="sidebar-nav-item">
              <a href="/presentations/">Presentations & Posters</a>
            </li>
          
        
      
        
          
            <li class="sidebar-nav-item">
              <a href="/projects/">GitHub Projects</a>
            </li>
          
        
      
        
          
            <li class="sidebar-nav-item">
              <a href="/publications/">Publications</a>
            </li>
          
        
      
        
          
            <li class="sidebar-nav-item">
              <a href="/research/">Research Portfolio</a>
            </li>
          
        
      
        
          
            <li class="sidebar-nav-item">
              <a href="/usefulbooks/">Useful Books and Links</a>
            </li>
          
        
      
        
          
            <li class="sidebar-nav-item">
              <a href="/videos/">Videos</a>
            </li>
          
        
      
        
          
            <li class="sidebar-nav-item">
              <a href="/whatiuse/">What I Use</a>
            </li>
          
        
      

      <li class="sidebar-nav-item"><a href="https://mbarzegary.github.io/research-tech-radar/">Research Technology Radar</a></li>
      <li class="sidebar-nav-item"><a>CV</a> (<a href="http://nbviewer.jupyter.org/github/mbarzegary/MyCV-shortened/blob/main/main.pdf">shortened</a> | <a href="http://nbviewer.jupyter.org/github/mbarzegary/MyCV/blob/master/main.pdf">full</a>)</li>
      
      <ul style="margin-left: -15px" class="icon-effect icon-effect-1a">
        <li><a target="_blank" href="https://github.com/mbarzegary" class="icon"><i class="fab fa-github"></i></a></li>
        <li><a target="_blank" href="https://www.linkedin.com/in/mbarzegary/" class="icon"><i class="fab fa-linkedin-in"></i></a></li>
        <li><a target="_blank" href="https://twitter.com/MojBarz" class="icon"><i class="fab fa-twitter"></i></a></li>
        <li><a target="_blank" href="https://www.instagram.com/mbarzegary/" class="icon"><i class="fab fa-instagram"></i></a></li>
        <li><a target="_blank" href="https://www.facebook.com/mbarzegary" class="icon"><i class="fab fa-facebook-f"></i></a></li>
      </ul>


      <!-- <li class="sidebar-nav-item"><a href="https://github.com/mbarzegary/mbarzegary.github.io/archive/v.zip">Download</a></li>
      <li class="sidebar-nav-item"><a href="https://github.com/mbarzegary/mbarzegary.github.io">GitHub project</a></li>
      <li class="sidebar-nav-item">Currently v</li> -->
    </ul>

    <p>Copyleft 2022. No right reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="post">
  <h1 class="post-title">Flexibility of having multiple parallel instances of Linux using WSL</h1>
  <span class="post-date">29 Sep 2020</span>
  <p>Working with Windows can be truly a nightmare in scientific computing projects. The main reason behind this is that most of the scientific computing libraries have developed natively for Linux, and in the case of cross-platform ones, the building and installation process on Linux is more straightforward and easy to accomplish. In addition to this, the freedom you have while working with the command line interface can never be experienced in Windows with PowerShell or the traditional Command Prompt.</p>

<p>So why are we talking about this when Linux is there and we don’t need to stick to Windows? The problem arises when you work for a big organization that doesn’t allow Linux to be installed on your machine because all the operational workflow, communication systems, and things like that are going to take place in Windows (which is indeed my case at KU Leuven, although I have installed an ILLEGAL dual boot version of Linux by bypassing the organizational Bitlocker, but it’s not always feasible and convenient to reboot to Windows to join a meeting, sign something or print a document).</p>

<p>The solution to this problem was released by Microsoft several years ago, a feature of Windows called <a href="https://en.wikipedia.org/wiki/Windows_Subsystem_for_Linux">Windows Subsystem for Linux (WSL)</a>, providing you with an emulated Linux kernel on top of which you can install your favorite distribution. It gives you full terminal access as well as limited support for running graphical applications (with some tricks of course). Recently, they have also extended and upgraded this feature to a real Linux kernel in WSL 2 (which I haven’t tested yet), which has also some cool and long awaited features such as GPU support.</p>

<p>But, beside this, WSL can be tweaked to bring even more productivity especially if you want to test multiple libraries and different configurations without touching your previous working instances of configured Linux (which indeed happens every now and then in scientific computing). Doing this in a native installation of Linux (like with <code class="highlighter-rouge">chroot</code>) requires some effort. Having multiple instances of the same Linux distribution in WSL is not supported out-of-the-box but can be accomplished using a less-known, yet fantastic tool called <a href="https://github.com/DDoSolitary/">LxRunOffline</a>. The simplest way to install LxRunOffline is by downloading the compiled binaries from GitHub. Adding the executable path to the “Path” environment variable is highly recommended. After doing that, a new instance can be installed as simple as:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; LxRunOffline i -n &lt;name_of_the_instance&gt; -d &lt;isntallation_location&gt; -f &lt;path_of_the_downloaded_image&gt; -s
</code></pre></div></div>
<p>in which the <code class="highlighter-rouge">i</code> argument indicates the installation action (to see all available operations, execute <code class="highlighter-rouge">LxRunOffline</code> without any action). Then, the installed instance can be run using:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; LxRunOffline r -n &lt;name_of_the_instance&gt;
</code></pre></div></div>
<p>You can encapsulate this command in a batch file, which can be placed on Desktop (or even better somewhere in “Path”, so you can run it directly from Command Prompt in any directory) for an easier access.</p>

<p>And now, the great flexibility comes with the freedom of choosing whatever you want as the distribution. What I use most often for this purpose is <a href="https://ubuntu.com/core">Ubuntu Core</a>, a light-weight Linux distribution aimed for IoT devices, but with APT package manager installed, which enables me to start with a tiny Linux installation, and then configure it to fit my needs. By doing this, I can quickly have a fresh installation of Linux to test or run something without affecting the previous configurations I have. A wide variety of Ubuntu Core images can be downloaded <a href="https://partner-images.canonical.com/core/">here</a>. A typical command for such a purpose can be then something like this:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; LxRunOffline i -n ubuntu-4.6 -d c:\wsl\ubuntu-test46 -f ubuntu-bionic-core-cloudimg-amd64-root.tar.gz -s
</code></pre></div></div>

</div>

<!-- <div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2022/06/27/surface-to-volume-mesh-using-gmsh/">
            Generate volume mesh from a surface mesh using GMSH
            <small>27 Jun 2022</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2022/01/03/use-python-packages-modules-in-paraview/">
            Use and import Python packages and modules inside ParaView (PvPython)
            <small>03 Jan 2022</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2021/09/26/data-visualization-in-browser-using-paraview-glance/">
            Data visualizations inside a web browser using ParaView Glance
            <small>26 Sep 2021</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div> -->

    </div>

  </body>
</html>
